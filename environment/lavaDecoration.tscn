[gd_scene load_steps=7 format=3]

[ext_resource type="Texture2D" uid="uid://wfnaaksk22j1" path="res://environment/textures/lava/lava.png" id="1_tdjef"]
[ext_resource type="PackedScene" uid="uid://denlwjbxajghs" path="res://environment/alphaMaskParentWithShaderAndMaskFromFile.tscn" id="2_m3gfm"]
[ext_resource type="PackedScene" uid="uid://ohxxvbakgamo" path="res://environment/generators/grassScatterer.tscn" id="3_jo1kf"]
[ext_resource type="Texture2D" uid="uid://cce4gd011c55g" path="res://environment/textures/ash/ash1.png" id="4_5fxl4"]
[ext_resource type="PackedScene" uid="uid://buq787t8yf45a" path="res://environment/randomMaskedGroundDecoration.tscn" id="4_y4tym"]

[sub_resource type="GDScript" id="GDScript_ugmbt"]
script/source = "extends Node

func _enter_tree():
  if process_mode == PROCESS_MODE_DISABLED:
    return
  
  var parent = get_parent()
  if not parent.has_method('rotate'):
    push_error(\"Parent can't rotate\")
    return
  parent.rotate(randi_range(0, 3) * PI/2)
  
"

[node name="lavaDecoration" type="Sprite2D"]
z_index = -10
texture = ExtResource("1_tdjef")

[node name="alphaMaskParentWithShaderAndMaskFromFile" parent="." instance=ExtResource("2_m3gfm")]

[node name="rotateParentOnceByN90s" type="Node" parent="."]
process_mode = 4
script = SubResource("GDScript_ugmbt")

[node name="scatterObjectPlacer" parent="." instance=ExtResource("3_jo1kf")]
z_index = -1
where = "Here"
object_init_props = {
"init_texture": ExtResource("4_5fxl4")
}
spread = 10.0
scene_pool = [ExtResource("4_y4tym")]
